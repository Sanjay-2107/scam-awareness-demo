<html>
<head>
    <title>Exclusive Internship Offer</title>
    <style>
        body {
            margin: 0;
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea, #764ba2);
            text-align: center;
            color: white;
        }

        .container {
            margin-top: 60px;
        }

        .card {
            background: white;
            color: #333;
            width: 380px;
            margin: auto;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            animation: fadeIn 0.8s ease-in-out;
        }

        input {
            width: 90%;
            padding: 12px;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
            text-align: center;
            font-size: 16px;
        }

        button {
            width: 95%;
            padding: 12px;
            margin-top: 15px;
            border-radius: 8px;
            border: none;
            background: linear-gradient(45deg, #ff512f, #dd2476);
            color: white;
            font-weight: bold;
            cursor: pointer;
        }

        .spinner {
            margin: 20px auto;
            width: 40px;
            height: 40px;
            border: 5px solid #eee;
            border-top: 5px solid #ff512f;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            100% { transform: rotate(360deg); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .danger { color: #ff3b3b; }
        .timer { color: red; font-weight: bold; }
    </style>
</head>
<body>

<div class="container" id="main">
    <div class="card">
        <h2>üéâ Congratulations!</h2>
        <p>You are selected for a ‚Çπ10,000 Paid Internship</p>

        <input type="text" id="username" placeholder="Enter Your Name">
        <input type="text" id="usn" placeholder="Enter Your USN">

        <button onclick="startLoading()">Verify Now</button>
    </div>
</div>

<script>

let countdownInterval;

function startLoading() {
    var name = document.getElementById("username").value;
    var usn = document.getElementById("usn").value;

    if(name.trim() === "" || usn.trim() === "") {
        alert("Please enter Name and USN!");
        return;
    }

    document.getElementById("main").innerHTML = `
        <div class="container">
            <h2>Verifying ${name} (${usn})...</h2>
            <div class="spinner"></div>
            <p>Please wait...</p>
        </div>
    `;

    setTimeout(function() {
        showOTP(name, usn);
    }, 3000);
}

function showOTP(name, usn) {

    let generatedOTP = Math.floor(100000 + Math.random() * 900000);

    document.getElementById("main").innerHTML = `
        <div class="card">
            <h3>üîê OTP Verification</h3>
            <p>OTP is being sent to your registered mobile...</p>
            <div class="spinner"></div>
            <p id="otpMessage" style="color:green;"></p>
            <p class="timer">OTP expires in <span id="time">30</span> seconds</p>
            <input type="text" id="otp" placeholder="Waiting for OTP...">
            <button onclick="revealScam('${name}', '${usn}')">Submit</button>
        </div>
    `;

    // Show and Auto-Fill OTP after 7 seconds
    setTimeout(function() {
        document.getElementById("otpMessage").innerHTML =
            "üì© OTP Received";

        document.getElementById("otp").value = generatedOTP;
    }, 7000);

    // Countdown timer
    let timeLeft = 30;
    countdownInterval = setInterval(function() {
        timeLeft--;
        document.getElementById("time").textContent = timeLeft;

        if(timeLeft <= 0) {
            clearInterval(countdownInterval);
            document.getElementById("main").innerHTML = `
                <div class="container">
                    <h1 class="danger">‚õî OTP Expired!</h1>
                    <p>This urgency is how scammers pressure victims.</p>
                </div>
            `;
        }
    }, 1000);
}

function revealScam(name, usn) {

    clearInterval(countdownInterval);

    document.body.style.background =
        "linear-gradient(135deg, #ff416c, #ff4b2b)";

    document.getElementById("main").innerHTML = `
        <div class="container">
            <h1 class="danger">‚ö†Ô∏è ${name} (${usn}), You Got Scammed!</h1>
           <h3>Total Students Who Clicked:
           <span id="clickCounter">Loading...</span>
           </h3>
           <p>This was a Social Media Scam Awareness Simulation.</p>
            <hr style="width:60%;">

            <h3>üö® Why It Felt Real</h3>
            <p>‚ùå Urgency (Countdown Timer)</p>
            <p>‚ùå OTP Auto-fill illusion</p>
            <p>‚ùå Attractive reward</p>
            <p>‚ùå No official verification</p>

            <hr style="width:60%;">

            <h3>‚úÖ Stay Safe</h3>
            <p>‚úî Never share OTP</p>
            <p>‚úî Verify official website</p>
            <p>‚úî Think before clicking</p>
        </div>
    `;
}

</script>
<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getDatabase, ref, runTransaction, onValue } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyCR-z_qe9U1cdE1Mh7MPKvFh1w2-xd8RrE",
  authDomain: "internship-a2869.firebaseapp.com",
  databaseURL: "https://internship-a2869-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "internship-a2869",
  storageBucket: "internship-a2869.firebasestorage.app",
  messagingSenderId: "273633014873",
  appId: "1:273633014873:web:ada86491eac7187895ad48"
};

const app = initializeApp(firebaseConfig);
const database = getDatabase(app);

const counterRef = ref(database, "clickCount");

// Increase counter safely
runTransaction(counterRef, (currentData) => {
  return (currentData || 0) + 1;
});

// Live update display
onValue(counterRef, (snapshot) => {
  document.getElementById("clickCounter").innerText = snapshot.val();
});

</script>


</body>
</html>
